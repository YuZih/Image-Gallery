"use strict";(self["webpackChunkvue_gallery"]=self["webpackChunkvue_gallery"]||[]).push([[328],{1692:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var o=function(){var t=this,e=t._self._c;return e("DefaultLayout",[t.isLoading?e("div",{staticClass:"spinnerCtn"},[e("Spinner")],1):e("div",[e("main",{staticClass:"tableCtn container"},[e("table",{staticClass:"table table-striped table-hover"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Post Title")]),e("th",{attrs:{scope:"col"}},[t._v("Date")]),e("th",{attrs:{scope:"col"}},[t._v("Content")]),e("th",{attrs:{scope:"col"}},[t._v("Action")])])]),e("tbody",t._l(t.posts,(function(s,o){return e("tr",{key:o,on:{click:function(e){return t.openThisPostPage(s.id)}}},[e("th",{attrs:{scope:"row"}},[t._v(t._s(o+1))]),e("td",[t._v(t._s(s.title))]),e("td",[t._v("May, 23, 2023")]),e("td",[t._v(t._s(t.filteredContent(s.content)))]),e("td",{staticClass:"iconCtn"},[e("button",{staticClass:"editBtb btn btn-light",on:{click:function(e){return e.stopPropagation(),t.toAdminEditPage(s.id)}}},[e("font-awesome-icon",{attrs:{icon:["fas","pen"]}})],1),e("button",{staticClass:"deleteBtn btn btn-light",attrs:{"data-bs-toggle":"modal","data-bs-target":"#exampleModal"},on:{click:function(e){return e.stopPropagation(),t.pressDeleteBtn(s)}}},[e("font-awesome-icon",{attrs:{icon:["fas","xmark"]}})],1)])])})),0)]),t.posts.length?t._e():e("div",{staticClass:"noPostMsg"},[t._v("No post yet. Please click the button in the bottom right to add a new post! ")])]),e("router-link",{attrs:{to:{name:"adminAdd"}}},[e("button",{staticClass:"plusBtn"},[t._v("+")])]),e("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},on:{click:t.cancelDelete}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("font-awesome-icon",{attrs:{icon:["fas","circle-exclamation"]}}),t._v(" Confirm Delete")],1),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return e.stopPropagation(),t.cancelDelete.apply(null,arguments)}}})]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"modalQuestion"},[t._v("Are you sure you want to delete this post?")]),e("div",{staticClass:"modalPostTitle"},[t._v("【 Post Title 】 "),e("span",[t._v(t._s(t.postTitleToDelete))])]),e("div",{staticClass:"modalPostCoverCtn"},[e("img",{staticClass:"modalPostCoverCtn_img",attrs:{src:t._f("emptyImage")(t.postCoverToDelete),alt:"cover-image"}})])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary cancelDeleteBtn",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),t.cancelDelete.apply(null,arguments)}}},[t._v("Cancel")]),e("button",{staticClass:"btn btn-primary confirmDeleteBtn",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),t.confirmDelete.apply(null,arguments)}}},[t._v("Delete")])])])])])],1)])},a=[],l=(s(7658),s(3019)),n=s(408),i=s(4145),c={name:"AdminView",mixins:[i.L],components:{DefaultLayout:l.HQ,Spinner:l.$j},data(){return{postIDToDelete:null,postTitleToDelete:null,postCoverToDelete:null}},computed:{isLoading(){return this.isLoadingPost||!this.posts},...(0,n.rn)(["isLoadingPost","posts"])},methods:{...(0,n.nv)(["toDeletePost"]),filteredContent(t){let e=t.replace(/<br>/g," ");return e.length>=40?e.slice(0,40)+"...":e},openThisPostPage(t){console.log("open: ",t),window.open("/post/"+t,"_blank")},toAdminEditPage(t){this.$router.push({name:"adminEdit",params:{id:t}})},pressDeleteBtn(t){this.postIDToDelete=t.id,this.postTitleToDelete=t.title,this.postCoverToDelete=t.cover},cancelDelete(){this.postIDToDelete=null,this.postTitleToDelete=null,this.postCoverToDelete=null},confirmDelete(){console.log("Delete post with ID: ",this.postIDToDelete),this.toDeletePost(this.postIDToDelete)}}},r=c,d=s(1001),p=(0,d.Z)(r,o,a,!1,null,"42c06e84",null),u=p.exports}}]);
//# sourceMappingURL=admin.b29cf6a4.js.map